"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["82"],{9174:function(e,t,i){i.d(t,{k:()=>s});var a=i(8635);i(9144);var r=i(4517),l=i(3064),n=i(6106),o=i(4676),c=i(5913);let s=()=>{let{invoices:e,isLoading:t,totalCount:i}=(0,r.useInvoicesContext)();return(0,a.tZ)(h,{page:1,onPageChange:e=>{},itemCount:i,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:"No invoices to display",headers:["Date/Invoice","Status","Total"],rows:e.map(e=>(0,a.tZ)(d,{invoice:e},e.id))})},d=e=>{let{invoice:t}=e,{paymentDueOn:i,id:r,status:n,totals:{grandTotal:s}}=t,{navigate:d}=(0,o.useRouter)(),h=()=>{d("invoice/".concat(r))};return(0,a.BX)(u,{onClick:h,children:[(0,a.BX)(l.Td,{sx:{cursor:"pointer"},children:[(0,a.tZ)(l.Text,{variant:"subtitle",children:(0,a.tZ)(l.Link,{onClick:h,children:new Date(i).toLocaleDateString()})}),(0,a.tZ)(l.Text,{colorScheme:"secondary",truncate:!0,sx:e=>({marginTop:e.space.$0x5,textTransform:"uppercase"}),children:(0,c.L)(r)})]}),(0,a.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,a.tZ)(l.Badge,{colorScheme:{paid:"success",unpaid:"warning",past_due:"danger"}[n],sx:{textTransform:"capitalize"},children:n})}),(0,a.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,a.BX)(l.Text,{colorScheme:"secondary",children:[s.currencySymbol,s.amountFormatted]})})]})},h=e=>{let{headers:t,page:i,onPageChange:r,rows:o,isLoading:c,itemCount:s,itemsPerPage:d,pageCount:h,emptyStateLocalizationKey:u}=e,g=s>0?Math.max(0,(i-1)*d)+1:0,m=Math.min(i*d,s);return(0,a.BX)(l.Col,{gap:4,sx:{width:"100%"},children:[(0,a.tZ)(l.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,a.BX)(l.Table,{sx:{tableLayout:"fixed"},children:[(0,a.tZ)(l.Thead,{children:(0,a.tZ)(l.Tr,{children:t.map((e,t)=>(0,a.tZ)(l.Th,{elementDescriptor:l.descriptors.tableHead,localizationKey:e},t))})}),(0,a.tZ)(l.Tbody,{children:c?(0,a.tZ)(l.Tr,{children:(0,a.tZ)(l.Td,{colSpan:4,children:(0,a.tZ)(l.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:l.descriptors.spinner})})}):o.length?o:(0,a.tZ)(p,{localizationKey:u},"empty")})]})}),h>1&&(0,a.tZ)(n.Pagination,{count:h,page:i,onChange:r,siblingCount:1,rowInfo:{allRowsCount:s,startingRow:g,endingRow:m}})]})},p=e=>(0,a.tZ)(l.Tr,{children:(0,a.tZ)(l.Td,{colSpan:4,children:(0,a.tZ)(l.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),u=e=>(0,a.tZ)(l.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})});i(1171)},6793:function(e,t,i){i.r(t),i.d(t,{BillingPage:()=>p});var a=i(8635),r=i(4517),l=i(3064),n=i(6106),o=i(3746),c=i(9174),s=i(4011),d=i(426);let h={0:"plans",1:"invoices",2:"payment-sources"},p=(0,r.withPlans)((0,n.withCardStateProvider)(()=>{let e=(0,n.useCardState)(),{subscriptions:t}=(0,r.usePlansContext)(),{selectedTab:i,handleTabChange:p}=(0,o.x)(h);return(0,a.tZ)(l.Col,{elementDescriptor:l.descriptors.page,sx:e=>({gap:e.space.$8,color:e.colors.$colorText}),children:(0,a.BX)(l.Col,{elementDescriptor:l.descriptors.profilePage,elementId:l.descriptors.profilePage.setId("billing"),gap:4,children:[(0,a.tZ)(n.Header.Root,{children:(0,a.tZ)(n.Header.Title,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.title"),textVariant:"h2"})}),(0,a.tZ)(n.Card.Alert,{children:e.error}),(0,a.BX)(n.Tabs,{value:i,onChange:p,children:[(0,a.BX)(n.TabsList,{sx:e=>({gap:e.space.$6}),children:[(0,a.tZ)(n.Tab,{localizationKey:t.length>0?(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__subscriptions"):(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__plans")}),(0,a.tZ)(n.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__invoices")}),(0,a.tZ)(n.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__paymentSources")})]}),(0,a.BX)(n.TabPanels,{children:[(0,a.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(r.__experimental_PricingTableContext.Provider,{value:{componentName:"PricingTable",mode:"modal"},children:(0,a.tZ)(d.__experimental_PricingTable,{})})}),(0,a.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(r.InvoicesContextProvider,{children:(0,a.tZ)(c.k,{})})}),(0,a.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,a.tZ)(r.__experimental_PaymentSourcesContext.Provider,{value:{componentName:"PaymentSources"},children:(0,a.tZ)(s.QR,{})})})]})]})]})})}))}}]);