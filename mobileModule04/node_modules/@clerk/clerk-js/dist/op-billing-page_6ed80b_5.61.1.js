"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["916"],{9174:function(e,t,i){i.d(t,{k:()=>s});var r=i(8635);i(9144);var a=i(4517),l=i(3064),n=i(6106),o=i(4676),c=i(5913);let s=()=>{let{invoices:e,isLoading:t,totalCount:i}=(0,a.useInvoicesContext)();return(0,r.tZ)(p,{page:1,onPageChange:e=>{},itemCount:i,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:"No invoices to display",headers:["Date/Invoice","Status","Total"],rows:e.map(e=>(0,r.tZ)(d,{invoice:e},e.id))})},d=e=>{let{invoice:t}=e,{paymentDueOn:i,id:a,status:n,totals:{grandTotal:s}}=t,{navigate:d}=(0,o.useRouter)(),p=()=>{d("invoice/".concat(a))};return(0,r.BX)(u,{onClick:p,children:[(0,r.BX)(l.Td,{sx:{cursor:"pointer"},children:[(0,r.tZ)(l.Text,{variant:"subtitle",children:(0,r.tZ)(l.Link,{onClick:p,children:new Date(i).toLocaleDateString()})}),(0,r.tZ)(l.Text,{colorScheme:"secondary",truncate:!0,sx:e=>({marginTop:e.space.$0x5,textTransform:"uppercase"}),children:(0,c.L)(a)})]}),(0,r.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,r.tZ)(l.Badge,{colorScheme:{paid:"success",unpaid:"warning",past_due:"danger"}[n],sx:{textTransform:"capitalize"},children:n})}),(0,r.tZ)(l.Td,{sx:{cursor:"pointer"},children:(0,r.BX)(l.Text,{colorScheme:"secondary",children:[s.currencySymbol,s.amountFormatted]})})]})},p=e=>{let{headers:t,page:i,onPageChange:a,rows:o,isLoading:c,itemCount:s,itemsPerPage:d,pageCount:p,emptyStateLocalizationKey:u}=e,g=s>0?Math.max(0,(i-1)*d)+1:0,m=Math.min(i*d,s);return(0,r.BX)(l.Col,{gap:4,sx:{width:"100%"},children:[(0,r.tZ)(l.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,r.BX)(l.Table,{sx:{tableLayout:"fixed"},children:[(0,r.tZ)(l.Thead,{children:(0,r.tZ)(l.Tr,{children:t.map((e,t)=>(0,r.tZ)(l.Th,{elementDescriptor:l.descriptors.tableHead,localizationKey:e},t))})}),(0,r.tZ)(l.Tbody,{children:c?(0,r.tZ)(l.Tr,{children:(0,r.tZ)(l.Td,{colSpan:4,children:(0,r.tZ)(l.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:l.descriptors.spinner})})}):o.length?o:(0,r.tZ)(h,{localizationKey:u},"empty")})]})}),p>1&&(0,r.tZ)(n.Pagination,{count:p,page:i,onChange:a,siblingCount:1,rowInfo:{allRowsCount:s,startingRow:g,endingRow:m}})]})},h=e=>(0,r.tZ)(l.Tr,{children:(0,r.tZ)(l.Td,{colSpan:4,children:(0,r.tZ)(l.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),u=e=>(0,r.tZ)(l.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})});i(1171)},4961:function(e,t,i){i.r(t),i.d(t,{OrganizationBillingPage:()=>h});var r=i(8635),a=i(4517),l=i(3064),n=i(6106),o=i(3746),c=i(9174),s=i(9274),d=i(426);let p={0:"plans",1:"invoices",2:"payment-sources"},h=(0,a.withPlans)((0,n.withCardStateProvider)(()=>{let e=(0,n.useCardState)(),{subscriptions:t}=(0,a.usePlansContext)(),{selectedTab:i,handleTabChange:h}=(0,o.x)(p);return(0,r.tZ)(l.Col,{elementDescriptor:l.descriptors.page,sx:e=>({gap:e.space.$8,color:e.colors.$colorText}),children:(0,r.BX)(l.Col,{elementDescriptor:l.descriptors.profilePage,elementId:l.descriptors.profilePage.setId("billing"),gap:4,children:[(0,r.tZ)(n.Header.Root,{children:(0,r.tZ)(n.Header.Title,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.title"),textVariant:"h2"})}),(0,r.tZ)(n.Card.Alert,{children:e.error}),(0,r.BX)(n.Tabs,{value:i,onChange:h,children:[(0,r.BX)(n.TabsList,{sx:e=>({gap:e.space.$6}),children:[(0,r.tZ)(n.Tab,{localizationKey:t.length>0?(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__subscriptions"):(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__plans")}),(0,r.tZ)(n.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__invoices")}),(0,r.tZ)(n.Tab,{localizationKey:(0,l.localizationKeys)("userProfile.__experimental_billingPage.start.headerTitle__paymentSources")})]}),(0,r.BX)(n.TabPanels,{children:[(0,r.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,r.tZ)(a.__experimental_PricingTableContext.Provider,{value:{componentName:"PricingTable",mode:"modal",subscriberType:"org"},children:(0,r.tZ)(d.__experimental_PricingTable,{})})}),(0,r.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,r.tZ)(a.InvoicesContextProvider,{subscriberType:"org",children:(0,r.tZ)(c.k,{})})}),(0,r.tZ)(n.TabPanel,{sx:{width:"100%"},children:(0,r.tZ)(a.__experimental_PaymentSourcesContext.Provider,{value:{componentName:"PaymentSources",subscriberType:"org"},children:(0,r.tZ)(s.Q,{})})})]})]})]})})}))}}]);